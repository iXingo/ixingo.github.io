(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{4123:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/github",function(){return e(2572)}])},2572:function(n,t,e){"use strict";e.r(t);var r=e(8520),c=e.n(r),o=e(5893),u=e(7294),s=e(8573),i=e(5895);function a(n,t,e,r,c,o,u){try{var s=n[o](u),i=s.value}catch(a){return void e(a)}s.done?t(i):Promise.resolve(i).then(r,c)}var f,h=function(n){var t=(0,u.useContext)(s.Z),e=t.isAuthenticated,r=t.setIsAuthenticated;return(0,u.useEffect)((function(){n.accessToken&&((0,i.Fr)(n.accessToken),r(!0),console.log("isAuthenticated",e))}),[e]),(0,o.jsx)(u.Fragment,{children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("p",{children:JSON.stringify(n)})})})};h.getInitialProps=(f=c().mark((function n(t){var e,r,o,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.query,r=e.code,console.log(r),n.next=5,fetch("https://ixingo.com.cn/api/auth/github?code="+r);case 5:return o=n.sent,n.next=8,o.json();case 8:return u=n.sent,console.log(u),u.content,n.abrupt("return",u);case 12:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(e,r){var c=f.apply(n,t);function o(n){a(c,e,r,o,u,"next",n)}function u(n){a(c,e,r,o,u,"throw",n)}o(void 0)}))}),t.default=h}},function(n){n.O(0,[774,888,179],(function(){return t=4123,n(n.s=t);var t}));var t=n.O();_N_E=t}]);