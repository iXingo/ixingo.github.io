(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{3298:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/weibo",function(){return t(9931)}])},9931:function(n,e,t){"use strict";t.r(e);var r=t(8520),c=t.n(r),o=t(5893),u=t(7294),s=t(8573),i=t(5895);function a(n,e,t,r,c,o,u){try{var s=n[o](u),i=s.value}catch(a){return void t(a)}s.done?e(i):Promise.resolve(i).then(r,c)}var f,h=function(n){var e=(0,u.useContext)(s.Z),t=(e.currentUser,e.isAuthenticated);return(0,u.useEffect)((function(){n.accessToken&&((0,i.Fr)(n.accessToken),t=!0)}),t),(0,o.jsx)(u.Fragment,{children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("p",{children:JSON.stringify(n)})})})};h.getInitialProps=(f=c().mark((function n(e){var t,r,o,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,r=t.code,console.log(r),n.next=5,fetch("http://localhost:8080/api/auth/weibo?code="+r);case 5:return o=n.sent,n.next=8,o.json();case 8:return u=n.sent,console.log(u),n.abrupt("return",u);case 11:case"end":return n.stop()}}),n)})),function(){var n=this,e=arguments;return new Promise((function(t,r){var c=f.apply(n,e);function o(n){a(c,t,r,o,u,"next",n)}function u(n){a(c,t,r,o,u,"throw",n)}o(void 0)}))}),e.default=h}},function(n){n.O(0,[774,888,179],(function(){return e=3298,n(n.s=e);var e}));var e=n.O();_N_E=e}]);